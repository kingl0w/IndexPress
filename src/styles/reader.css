/* Reader theme variables */
.reader[data-theme="light"] {
  --reader-bg: #ffffff;
  --reader-text: #1c1917;
  --reader-text-muted: #78716c;
  --reader-accent: #2563eb;
  --reader-border: #e7e5e4;
  --reader-progress: #2563eb;
  --reader-controls-bg: #ffffff;
  --reader-controls-border: #e7e5e4;
  --reader-btn-bg: #f5f5f4;
  --reader-btn-active: #1c1917;
  --reader-btn-active-text: #ffffff;
}

.reader[data-theme="sepia"] {
  --reader-bg: #f4ecd8;
  --reader-text: #3d2b1f;
  --reader-text-muted: #6b5641;
  --reader-accent: #92600e;
  --reader-border: #d4c5a9;
  --reader-progress: #92600e;
  --reader-controls-bg: #efe6d0;
  --reader-controls-border: #d4c5a9;
  --reader-btn-bg: #e8ddc6;
  --reader-btn-active: #3d2b1f;
  --reader-btn-active-text: #f4ecd8;
}

.reader[data-theme="dark"] {
  --reader-bg: #1a1a2e;
  --reader-text: #d4d4d8;
  --reader-text-muted: #71717a;
  --reader-accent: #818cf8;
  --reader-border: #2a2a40;
  --reader-progress: #818cf8;
  --reader-controls-bg: #16163a;
  --reader-controls-border: #2a2a40;
  --reader-btn-bg: #2a2a40;
  --reader-btn-active: #818cf8;
  --reader-btn-active-text: #1a1a2e;
}

/* Reader container */
.reader {
  background-color: var(--reader-bg);
  color: var(--reader-text);
  min-height: 100vh;
  transition: background-color 0.2s ease, color 0.2s ease;
}

@media (prefers-reduced-motion: reduce) {
  .reader {
    transition: none;
  }
}

/* Font size variants */
.reader[data-font-size="small"] .reader-content {
  font-size: 0.875rem;
}

.reader[data-font-size="medium"] .reader-content {
  font-size: 1rem;
}

.reader[data-font-size="large"] .reader-content {
  font-size: 1.125rem;
}

.reader[data-font-size="xl"] .reader-content {
  font-size: 1.25rem;
}

/* Font family variants */
.reader[data-font-family="serif"] .reader-content {
  font-family: Georgia, "Times New Roman", Times, serif;
}

.reader[data-font-family="sans"] .reader-content {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
}

/* Reader content typography */
.reader-content {
  max-width: 65ch;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.8;
}

.reader-content p {
  margin-bottom: 1.5em;
}

.reader-content p:last-child {
  margin-bottom: 0;
}

/* ALL CAPS handling â€” convert to elegant small-caps */
.reader-content .all-caps {
  font-variant: small-caps;
  text-transform: lowercase;
  letter-spacing: 0.05em;
  font-size: 1.05em;
}

/* Responsive: ensure comfortable reading on phones */
@media (max-width: 640px) {
  .reader[data-font-size="small"] .reader-content {
    font-size: 0.9375rem;
  }

  .reader[data-font-size="medium"] .reader-content {
    font-size: 1rem;
  }
}
